(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[72,76],{105:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return o}));const n=window.CustomEvent||null,s=(e,t)=>{let{bubbles:r=!1,cancelable:s=!1,element:c,detail:o={}}=t;if(!n)return;c||(c=document.body);const a=new n(e,{bubbles:r,cancelable:s,detail:o});c.dispatchEvent(a)},c=e=>{let{preserveCartData:t=!1}=e;s("wc-blocks_added_to_cart",{bubbles:!0,cancelable:!0,detail:{preserveCartData:t}})},o=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof jQuery)return()=>{};const c=()=>{s(t,{bubbles:r,cancelable:n})};return jQuery(document).on(e,c),()=>jQuery(document).off(e,c)}},114:function(e,t,r){"use strict";var n=r(0);r(134),t.a=()=>Object(n.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"})},121:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=e=>"number"==typeof e},122:function(e,t,r){"use strict";r.d(t,"b",(function(){return n}));const n=()=>window.performance&&window.performance.getEntriesByType("navigation").length?window.performance.getEntriesByType("navigation")[0].type:"";t.a=n},134:function(e,t){},147:function(e,t,r){"use strict";var n=r(14),s=r.n(n),c=r(0),o=r(73),a=r(5),i=r.n(a),u=r(114);r(223),t.a=e=>{let{className:t,showSpinner:r=!1,children:n,variant:a="contained",...l}=e;const d=i()("wc-block-components-button","wp-element-button",t,a,{"wc-block-components-button--loading":r});return Object(c.createElement)(o.a,s()({className:d},l),r&&Object(c.createElement)(u.a,null),Object(c.createElement)("span",{className:"wc-block-components-button__text"},n))}},152:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return u}));var n=r(81),s=(r(16),r(2)),c=r(24),o=r(30);const a=e=>{const t=Object.keys(s.defaultAddressFields),r=Object(n.a)(t,{},e.country),c=Object.assign({},e);return r.forEach(t=>{let{key:r="",hidden:n=!1}=t;n&&((e,t)=>e in t)(r,e)&&(c[r]="")}),c},i=e=>{if(0===Object.values(e).length)return null;const t="string"==typeof o.i[e.country]?Object(c.decodeEntities)(o.i[e.country]):"",r="object"==typeof o.j[e.country]&&"string"==typeof o.j[e.country][e.state]?Object(c.decodeEntities)(o.j[e.country][e.state]):e.state,n=[];n.push(e.postcode.toUpperCase()),n.push(e.city),n.push(r),n.push(t);return n.filter(Boolean).join(", ")||null},u=e=>!!e.city&&!!e.country},156:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(70);const s=(e,t)=>function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const c=n.a.addEventCallback(e,r,s);return t(c),()=>{t(n.a.removeEventCallback(e,c.id))}}},165:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r(37),s=r(21);const c=e=>Object(s.a)(e)&&Object(s.b)(e,"type"),o=async(e,t,r)=>{const s=Object(n.a)(e,t),c=[];for(const e of s)try{const t=await Promise.resolve(e.callback(r));"object"==typeof t&&c.push(t)}catch(e){console.error(e)}return!c.length||c},a=async(e,t,r)=>{const s=[],o=Object(n.a)(e,t);for(const e of o)try{const t=await Promise.resolve(e.callback(r));if(!c(t))continue;if(!t.hasOwnProperty("type"))throw new Error("Returned objects from event emitter observers must return an object with a type property");if(Object(n.b)(t)||Object(n.c)(t))return s.push(t),s;s.push(t)}catch(e){return console.error(e),s.push({type:n.e.ERROR}),s}return s}},21:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c}));var n=r(38);const s=e=>!Object(n.a)(e)&&e instanceof Object&&e.constructor===Object;function c(e,t){return s(e)&&t in e}},223:function(e,t){},29:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=e=>"string"==typeof e},37:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return c})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return u}));var n=r(21);const s=(e,t)=>e[t]?Array.from(e[t].values()).sort((e,t)=>e.priority-t.priority):[];let c,o;!function(e){e.SUCCESS="success",e.FAIL="failure",e.ERROR="error"}(c||(c={})),function(e){e.CART="wc/cart",e.CHECKOUT="wc/checkout",e.PAYMENTS="wc/checkout/payments",e.EXPRESS_PAYMENTS="wc/checkout/express-payments",e.CONTACT_INFORMATION="wc/checkout/contact-information",e.SHIPPING_ADDRESS="wc/checkout/shipping-address",e.BILLING_ADDRESS="wc/checkout/billing-address",e.SHIPPING_METHODS="wc/checkout/shipping-methods",e.CHECKOUT_ACTIONS="wc/checkout/checkout-actions"}(o||(o={}));const a=(e,t)=>Object(n.a)(e)&&"type"in e&&e.type===t,i=e=>a(e,c.ERROR),u=e=>a(e,c.FAIL)},38:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=e=>null===e},397:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(0),s=r(4),c=r(3),o=r(24),a=r(72);const i=(e,t)=>{const r=e.find(e=>{let{id:r}=e;return r===t});return r?r.quantity:0},u=e=>{const{addItemToCart:t}=Object(s.useDispatch)(c.CART_STORE_KEY),{cartItems:r,cartIsLoading:u}=Object(a.a)(),{createErrorNotice:l,removeNotice:d}=Object(s.useDispatch)("core/notices"),[b,p]=Object(n.useState)(!1),E=Object(n.useRef)(i(r,e));return Object(n.useEffect)(()=>{const t=i(r,e);t!==E.current&&(E.current=t)},[r,e]),{cartQuantity:Number.isFinite(E.current)?E.current:0,addingToCart:b,cartIsLoading:u,addToCart:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return p(!0),t(e,r).then(()=>{d("add-to-cart")}).catch(e=>{l(Object(o.decodeEntities)(e.message),{id:"add-to-cart",context:"wc/all-products",isDismissible:!0})}).finally(()=>{p(!1)})}}}},431:function(e,t){},432:function(e,t){},496:function(e,t,r){"use strict";r.r(t);var n=r(146),s=r(0),c=r(5),o=r.n(c),a=r(1),i=r(26);const u=e=>e.is_purchasable||!1;var l=r(4),d=r(3);const b={PRISTINE:"pristine",IDLE:"idle",DISABLED:"disabled",PROCESSING:"processing",BEFORE_PROCESSING:"before_processing",AFTER_PROCESSING:"after_processing"},p={status:b.PRISTINE,hasError:!1,quantity:0,processingResponse:null,requestParams:{}},E={SET_PRISTINE:"set_pristine",SET_IDLE:"set_idle",SET_DISABLED:"set_disabled",SET_PROCESSING:"set_processing",SET_BEFORE_PROCESSING:"set_before_processing",SET_AFTER_PROCESSING:"set_after_processing",SET_PROCESSING_RESPONSE:"set_processing_response",SET_HAS_ERROR:"set_has_error",SET_NO_ERROR:"set_no_error",SET_QUANTITY:"set_quantity",SET_REQUEST_PARAMS:"set_request_params"},{SET_PRISTINE:m,SET_IDLE:_,SET_DISABLED:O,SET_PROCESSING:h,SET_BEFORE_PROCESSING:f,SET_AFTER_PROCESSING:S,SET_PROCESSING_RESPONSE:g,SET_HAS_ERROR:v,SET_NO_ERROR:j,SET_QUANTITY:y,SET_REQUEST_PARAMS:R}=E,T=()=>({type:_}),C=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=e?v:j;return{type:t}},{SET_PRISTINE:w,SET_IDLE:A,SET_DISABLED:P,SET_PROCESSING:I,SET_BEFORE_PROCESSING:N,SET_AFTER_PROCESSING:k,SET_PROCESSING_RESPONSE:D,SET_HAS_ERROR:L,SET_NO_ERROR:F,SET_QUANTITY:M,SET_REQUEST_PARAMS:x}=E,{PRISTINE:B,IDLE:q,DISABLED:Y,PROCESSING:G,BEFORE_PROCESSING:Q,AFTER_PROCESSING:V}=b,H=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,{quantity:r,type:n,data:s}=arguments.length>1?arguments[1]:void 0;switch(n){case w:e=p;break;case A:e=t.status!==q?{...t,status:q}:t;break;case P:e=t.status!==Y?{...t,status:Y}:t;break;case M:e=r!==t.quantity?{...t,quantity:r}:t;break;case x:e={...t,requestParams:{...t.requestParams,...s}};break;case D:e={...t,processingResponse:s};break;case I:e=t.status!==G?{...t,status:G,hasError:!1}:t,e=!1===e.hasError?e:{...e,hasError:!1};break;case N:e=t.status!==Q?{...t,status:Q,hasError:!1}:t;break;case k:e=t.status!==V?{...t,status:V}:t;break;case L:e=t.hasError?t:{...t,hasError:!0},e=t.status===G||t.status===Q?{...e,status:q}:e;break;case F:e=t.hasError?{...t,hasError:!1}:t}return e!==t&&n!==w&&e.status===B&&(e.status=q),e};var K=r(70),W=r(156);const U=e=>({onAddToCartAfterProcessingWithSuccess:Object(W.a)("add_to_cart_after_processing_with_success",e),onAddToCartProcessingWithError:Object(W.a)("add_to_cart_after_processing_with_error",e),onAddToCartBeforeProcessing:Object(W.a)("add_to_cart_before_processing",e)});var X=r(165),J=r(37);const z=Object(s.createContext)({product:{},productType:"simple",productIsPurchasable:!0,productHasOptions:!1,supportsFormElements:!0,showFormElements:!1,quantity:0,minQuantity:1,maxQuantity:99,requestParams:{},isIdle:!1,isDisabled:!1,isProcessing:!1,isBeforeProcessing:!1,isAfterProcessing:!1,hasError:!1,eventRegistration:{onAddToCartAfterProcessingWithSuccess:e=>{},onAddToCartAfterProcessingWithError:e=>{},onAddToCartBeforeProcessing:e=>{}},dispatchActions:{resetForm:()=>{},submitForm:()=>{},setQuantity:e=>{},setHasError:e=>{},setAfterProcessing:e=>{},setRequestParams:e=>{}}}),Z=()=>Object(s.useContext)(z),$=e=>{var t,r,n,c;let{children:o,product:E,showFormElements:_}=e;const[v,j]=Object(s.useReducer)(H,p),[w,A]=Object(s.useReducer)(K.b,{}),P=Object(i.a)(w),{createErrorNotice:I}=Object(l.useDispatch)("core/notices"),{setValidationErrors:N}=Object(l.useDispatch)(d.VALIDATION_STORE_KEY),k=Object(s.useMemo)(()=>({onAddToCartAfterProcessingWithSuccess:U(A).onAddToCartAfterProcessingWithSuccess,onAddToCartAfterProcessingWithError:U(A).onAddToCartAfterProcessingWithError,onAddToCartBeforeProcessing:U(A).onAddToCartBeforeProcessing}),[A]),D=Object(s.useMemo)(()=>({resetForm:()=>{j({type:m})},submitForm:()=>{j({type:f})},setQuantity:e=>{j((e=>({type:y,quantity:e}))(e))},setHasError:e=>{j(C(e))},setRequestParams:e=>{j((e=>({type:R,data:e}))(e))},setAfterProcessing:e=>{j({type:g,data:e}),j({type:S})}}),[]);Object(s.useEffect)(()=>{const e=v.status,t=!E.id||!u(E);e!==b.DISABLED||t?e!==b.DISABLED&&t&&j({type:O}):j(T())},[v.status,E,j]),Object(s.useEffect)(()=>{v.status===b.BEFORE_PROCESSING&&(((e,t)=>{const r=Object(l.select)("core/notices").getNotices("wc/add-to-cart"),{removeNotice:n}=Object(l.dispatch)("core/notices");r.filter(e=>"error"===e.status).forEach(e=>n(e.id,"wc/add-to-cart"))})(),Object(X.a)(P,"add_to_cart_before_processing",{}).then(e=>{!0!==e?(Array.isArray(e)&&e.forEach(e=>{let{errorMessage:t,validationErrors:r}=e;t&&I(t,{context:"wc/add-to-cart"}),r&&N(r)}),j(T())):j({type:h})}))},[v.status,N,I,j,P,null==E?void 0:E.id]),Object(s.useEffect)(()=>{if(v.status===b.AFTER_PROCESSING){const e={processingResponse:v.processingResponse},t=e=>{let t=!1;return e.forEach(e=>{const{message:r,messageContext:n}=e;(Object(J.b)(e)||Object(J.c)(e))&&r&&(t=!0,I(r,n?{context:n}:void 0))}),t};if(v.hasError)return void Object(X.b)(P,"add_to_cart_after_processing_with_error",e).then(r=>{if(!t(r)){var n;const t=(null===(n=e.processingResponse)||void 0===n?void 0:n.message)||Object(a.__)("Something went wrong. Please contact us for assistance.","woo-gutenberg-products-block");I(t,{id:"add-to-cart",context:"woocommerce/single-product/"+((null==E?void 0:E.id)||0)})}j(T())});Object(X.b)(P,"add_to_cart_after_processing_with_success",e).then(e=>{t(e)?j(C(!0)):j(T())})}},[v.status,v.hasError,v.processingResponse,D,I,P,null==E?void 0:E.id]);const L=(e=>["simple","variable"].includes(e.type||"simple"))(E),F={product:E,productType:E.type||"simple",productIsPurchasable:u(E),productHasOptions:E.has_options||!1,supportsFormElements:L,showFormElements:_&&L,quantity:v.quantity||(null==E||null===(t=E.add_to_cart)||void 0===t?void 0:t.minimum)||1,minQuantity:(null==E||null===(r=E.add_to_cart)||void 0===r?void 0:r.minimum)||1,maxQuantity:(null==E||null===(n=E.add_to_cart)||void 0===n?void 0:n.maximum)||99,multipleOf:(null==E||null===(c=E.add_to_cart)||void 0===c?void 0:c.multiple_of)||1,requestParams:v.requestParams,isIdle:v.status===b.IDLE,isDisabled:v.status===b.DISABLED,isProcessing:v.status===b.PROCESSING,isBeforeProcessing:v.status===b.BEFORE_PROCESSING,isAfterProcessing:v.status===b.AFTER_PROCESSING,hasError:v.hasError,eventRegistration:k,dispatchActions:D};return Object(s.createElement)(z.Provider,{value:F},o)};var ee=r(47),te=r.n(ee),re=r(24),ne=r(105),se=r(72),ce=()=>{const{dispatchActions:e,product:t,quantity:r,eventRegistration:n,hasError:c,isProcessing:o,requestParams:i}=Z(),{showAllValidationErrors:u}=Object(l.useDispatch)(d.VALIDATION_STORE_KEY),b=Object(l.useSelect)(e=>e(d.VALIDATION_STORE_KEY).hasValidationErrors),{createErrorNotice:p,removeNotice:E}=Object(l.useDispatch)("core/notices"),{receiveCart:m}=Object(se.a)(),[_,O]=Object(s.useState)(!1),h=!c&&o,f=Object(s.useCallback)(()=>!b()||(u(),{type:"error"}),[b,u]);Object(s.useEffect)(()=>{const e=n.onAddToCartBeforeProcessing(f,0);return()=>{e()}},[n,f]);const S=Object(s.useCallback)(()=>{O(!0),E("add-to-cart","woocommerce/single-product/"+((null==t?void 0:t.id)||0));const n={id:t.id||0,quantity:r,...i};te()({path:"/wc/store/v1/cart/add-item",method:"POST",data:n,cache:"no-store",parse:!1}).then(r=>{te.a.setNonce(r.headers),r.json().then((function(n){r.ok?m(n):(n.body&&n.body.message?p(Object(re.decodeEntities)(n.body.message),{id:"add-to-cart",context:"woocommerce/single-product/"+((null==t?void 0:t.id)||0)}):p(Object(a.__)("Something went wrong. Please contact us for assistance.","woo-gutenberg-products-block"),{id:"add-to-cart",context:"woocommerce/single-product/"+((null==t?void 0:t.id)||0)}),e.setHasError()),Object(ne.c)({preserveCartData:!0}),e.setAfterProcessing(n),O(!1)}))}).catch(t=>{t.json().then((function(t){var r;null!==(r=t.data)&&void 0!==r&&r.cart&&m(t.data.cart),e.setHasError(),e.setAfterProcessing(t),O(!1)}))})},[t,p,E,m,e,r,i]);return Object(s.useEffect)(()=>{h&&!_&&S()},[h,S,_]),null};const oe=e=>{let{children:t,product:r,showFormElements:n}=e;return Object(s.createElement)($,{product:r,showFormElements:n},t,Object(s.createElement)(ce,null))};var ae=r(60);r(431);var ie=r(147),ue=r(82),le=r(343),de=r(74),be=r(397);const pe=e=>{let{className:t,href:r,text:n,onClick:c}=e;return Object(s.createElement)(ie.a,{className:t,href:r,onClick:c,rel:"nofollow"},n)},Ee=e=>{let{className:t,quantityInCart:r,isProcessing:n,isDisabled:c,isDone:o,onClick:i}=e;return Object(s.createElement)(ie.a,{className:t,disabled:c,showSpinner:n,onClick:i},o&&r>0?Object(a.sprintf)(
/* translators: %s number of products in cart. */
Object(a._n)("%d in cart","%d in cart",r,"woo-gutenberg-products-block"),r):Object(a.__)("Add to cart","woo-gutenberg-products-block"),!!o&&Object(s.createElement)(ue.a,{icon:le.a}))};var me=()=>{const{showFormElements:e,productIsPurchasable:t,productHasOptions:r,product:n,productType:c,isDisabled:o,isProcessing:i,eventRegistration:u,hasError:l,dispatchActions:d}=Z(),{parentName:b}=Object(ae.useInnerBlockLayoutContext)(),{dispatchStoreEvent:p}=Object(de.a)(),{cartQuantity:E}=Object(be.a)(n.id||0),[m,_]=Object(s.useState)(!1),O=n.add_to_cart||{url:"",text:""};return Object(s.useEffect)(()=>{const e=u.onAddToCartAfterProcessingWithSuccess(()=>(l||_(!0),!0),0);return()=>{e()}},[u,l]),(e||!r&&"simple"===c)&&t?Object(s.createElement)(Ee,{className:"wc-block-components-product-add-to-cart-button",quantityInCart:E,isDisabled:o,isProcessing:i,isDone:m,onClick:()=>{d.submitForm("woocommerce/single-product/"+((null==n?void 0:n.id)||0)),p("cart-add-item",{product:n,listName:b})}}):Object(s.createElement)(pe,{className:"wc-block-components-product-add-to-cart-button",href:O.url,text:O.text||Object(a.__)("View Product","woo-gutenberg-products-block"),onClick:()=>{p("product-view-link",{product:n,listName:b})}})},_e=r(52),Oe=e=>{let{disabled:t,min:r,max:n,step:c=1,value:o,onChange:a}=e;const i=void 0!==n,u=Object(_e.a)(e=>{let t=e;i&&(t=Math.min(t,Math.floor(n/c)*c)),t=Math.max(t,Math.ceil(r/c)*c),t=Math.floor(t/c)*c,t!==e&&(null==a||a(t))},300);return Object(s.createElement)("input",{className:"wc-block-components-product-add-to-cart-quantity",type:"number",value:o,min:r,max:n,step:c,hidden:1===n,disabled:t,onChange:e=>{null==a||a(e.target.value),u(Number(e.target.value))}})},he=e=>{let{reason:t=Object(a.__)("Sorry, this product cannot be purchased.","woo-gutenberg-products-block")}=e;return Object(s.createElement)("div",{className:"wc-block-components-product-add-to-cart-unavailable"},t)},fe=()=>{const{product:e,quantity:t,minQuantity:r,maxQuantity:n,multipleOf:c,dispatchActions:o,isDisabled:i}=Z();return e.id&&!e.is_purchasable?Object(s.createElement)(he,null):e.id&&!e.is_in_stock?Object(s.createElement)(he,{reason:Object(a.__)("This product is currently out of stock and cannot be purchased.","woo-gutenberg-products-block")}):Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Oe,{value:t,min:r,max:n,step:c,disabled:i,onChange:o.setQuantity}),Object(s.createElement)(me,null))},Se=(r(432),r(497)),ge=r(9);const ve={value:"",label:Object(a.__)("Select an option","woo-gutenberg-products-block")};var je=e=>{let{attributeName:t,options:r=[],value:n="",onChange:c=(()=>{}),errorMessage:i=Object(a.__)("Please select a value.","woo-gutenberg-products-block")}=e;const u=t,{setValidationErrors:b,clearValidationError:p}=Object(l.useDispatch)(d.VALIDATION_STORE_KEY),{error:E}=Object(l.useSelect)(e=>({error:e(d.VALIDATION_STORE_KEY).getValidationError(u)||{}}));return Object(s.useEffect)(()=>{n?p(u):b({[u]:{message:i,hidden:!0}})},[n,u,i,p,b]),Object(s.useEffect)(()=>()=>{p(u)},[u,p]),Object(s.createElement)("div",{className:"wc-block-components-product-add-to-cart-attribute-picker__container"},Object(s.createElement)(Se.a,{label:Object(re.decodeEntities)(t),value:n||"",options:[ve,...r],onChange:c,required:!0,className:o()("wc-block-components-product-add-to-cart-attribute-picker__select",{"has-error":(null==E?void 0:E.message)&&!(null!=E&&E.hidden)})}),Object(s.createElement)(ge.ValidationInputError,{propertyName:u,elementId:u}))},ye=r(21);const Re=(e,t,r)=>{const n=Object.values(t).map(e=>{let{id:t}=e;return t});if(Object.values(r).every(e=>""===e))return n;const s=Object.keys(e);return n.filter(e=>s.every(n=>{const s=r[n]||"",c=t["id:"+e].attributes[n];return""===s||null===c||c===s}))};var Te=e=>{let{attributes:t,variationAttributes:r,setRequestParams:n}=e;const c=Object(i.a)(t),o=Object(i.a)(r),[a,u]=Object(s.useState)(0),[l,d]=Object(s.useState)({}),[b,p]=Object(s.useState)(!1),E=Object(s.useMemo)(()=>((e,t,r)=>{const n={},s=Object.keys(e),c=Object.values(r).filter(Boolean).length>0;return s.forEach(s=>{const o=e[s],a={...r,[s]:null},i=c?Re(e,t,a):null,u=null!==i?i.map(e=>t["id:"+e].attributes[s]):null;n[s]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object.values(e).map(e=>{let{name:r,slug:n}=e;return null===t||t.includes(null)||t.includes(n)?{value:n,label:Object(re.decodeEntities)(r)}:null}).filter(Boolean)}(o.terms,u)}),n})(c,o,l),[l,c,o]);return Object(s.useEffect)(()=>{if(!b){const e=(e=>Object(ye.a)(e)?0===Object.keys(e).length?{}:Object.values(e).reduce((e,t)=>{const r=t.terms.filter(e=>e.default);var n;return r.length>0&&(e[t.name]=null===(n=r[0])||void 0===n?void 0:n.slug),e},{}):{})(t);e&&d({...e}),p(!0)}},[l,t,b]),Object(s.useEffect)(()=>{Object.values(l).filter(e=>""!==e).length===Object.keys(c).length?u(((e,t,r)=>Re(e,t,r)[0]||0)(c,o,l)):a>0&&u(0)},[l,a,c,o]),Object(s.useEffect)(()=>{n({id:a,variation:Object.keys(l).map(e=>({attribute:e,value:l[e]}))})},[n,a,l]),Object(s.createElement)("div",{className:"wc-block-components-product-add-to-cart-attribute-picker"},Object.keys(c).map(e=>Object(s.createElement)(je,{key:e,attributeName:e,options:E[e].filter(Boolean),value:l[e],onChange:t=>{d({...l,[e]:t})}})))},Ce=e=>{let{dispatchers:t,product:r}=e;const n=(e=>{return e?(t=Object.values(e).filter(e=>{let{has_variations:t}=e;return t}),"name",t.reduce((e,t)=>(e[String(t.name)]=t,e),{})):{};var t})(r.attributes),c=(e=>{if(!e)return{};const t={};return e.forEach(e=>{let{id:r,attributes:n}=e;t["id:"+r]={id:r,attributes:n.reduce((e,t)=>{let{name:r,value:n}=t;return e[r]=n,e},{})}}),t})(r.variations);return 0===Object.keys(n).length||0===Object.keys(c).length?null:Object(s.createElement)(Te,{attributes:n,variationAttributes:c,setRequestParams:t.setRequestParams})},we=()=>{const{product:e,quantity:t,minQuantity:r,maxQuantity:n,multipleOf:c,dispatchActions:o,isDisabled:i}=Z();return e.id&&!e.is_purchasable?Object(s.createElement)(he,null):e.id&&!e.is_in_stock?Object(s.createElement)(he,{reason:Object(a.__)("This product is currently out of stock and cannot be purchased.","woo-gutenberg-products-block")}):Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Ce,{product:e,dispatchers:o}),Object(s.createElement)(Oe,{value:t,min:r,max:n,step:c,disabled:i,onChange:o.setQuantity}),Object(s.createElement)(me,null))},Ae=()=>Object(s.createElement)(me,null),Pe=()=>Object(s.createElement)("p",null,"This is a placeholder for the grouped products form element.");const Ie=()=>{const{showFormElements:e,productType:t}=Z();return e?"variable"===t?Object(s.createElement)(we,null):"grouped"===t?Object(s.createElement)(Pe,null):"external"===t?Object(s.createElement)(Ae,null):"simple"===t||"variation"===t?Object(s.createElement)(fe,null):null:Object(s.createElement)(me,null)};var Ne=Object(n.withProductDataContext)(e=>{let{className:t,showFormElements:r}=e;const{product:n}=Object(ae.useProductDataContext)(),c=o()(t,"wc-block-components-product-add-to-cart",{"wc-block-components-product-add-to-cart--placeholder":(a=n,null==a||"object"==typeof a&&0===Object.keys(a).length||"string"==typeof a&&0===a.trim().length)});var a;return Object(s.createElement)(oe,{product:n,showFormElements:r},Object(s.createElement)("div",{className:c},Object(s.createElement)(Ie,null)))});t.default=Object(n.withFilteredAttributes)({showFormElements:{type:"boolean",default:!1},productId:{type:"number",default:0}})(Ne)},58:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0);r(4);const s=Object(n.createContext)({isEditor:!1,currentPostId:0,currentView:"",previewData:{},getPreviewData:()=>({})}),c=()=>Object(n.useContext)(s)},70:function(e,t,r){"use strict";let n;function s(){return Math.floor(Math.random()*Date.now()).toString()}r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return a})),function(e){e.ADD_EVENT_CALLBACK="add_event_callback",e.REMOVE_EVENT_CALLBACK="remove_event_callback"}(n||(n={}));const c={addEventCallback:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return{id:s(),type:n.ADD_EVENT_CALLBACK,eventType:e,callback:t,priority:r}},removeEventCallback:(e,t)=>({id:t,type:n.REMOVE_EVENT_CALLBACK,eventType:e})},o={},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,{type:t,eventType:r,id:s,callback:c,priority:a}=arguments.length>1?arguments[1]:void 0;const i=e.hasOwnProperty(r)?new Map(e[r]):new Map;switch(t){case n.ADD_EVENT_CALLBACK:return i.set(s,{priority:a,callback:c}),{...e,[r]:i};case n.REMOVE_EVENT_CALLBACK:return i.delete(s),{...e,[r]:i}}}},72:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r(56),s=r.n(n),c=r(0),o=r(3),a=r(4),i=r(24),u=r(152),l=r(58),d=r(122),b=r(105);const p=e=>{const t=null==e?void 0:e.detail;t&&t.preserveCartData||Object(a.dispatch)(o.CART_STORE_KEY).invalidateResolutionForStore()},E=e=>{(null!=e&&e.persisted||"back_forward"===Object(d.b)())&&Object(a.dispatch)(o.CART_STORE_KEY).invalidateResolutionForStore()},m=()=>{1===window.wcBlocksStoreCartListeners.count&&window.wcBlocksStoreCartListeners.remove(),window.wcBlocksStoreCartListeners.count--},_=()=>{Object(c.useEffect)(()=>((()=>{if(window.wcBlocksStoreCartListeners||(window.wcBlocksStoreCartListeners={count:0,remove:()=>{}}),(null===(e=window.wcBlocksStoreCartListeners)||void 0===e?void 0:e.count)>0)return void window.wcBlocksStoreCartListeners.count++;var e;document.body.addEventListener("wc-blocks_added_to_cart",p),document.body.addEventListener("wc-blocks_removed_from_cart",p),window.addEventListener("pageshow",E);const t=Object(b.b)("added_to_cart","wc-blocks_added_to_cart"),r=Object(b.b)("removed_from_cart","wc-blocks_removed_from_cart");window.wcBlocksStoreCartListeners.count=1,window.wcBlocksStoreCartListeners.remove=()=>{document.body.removeEventListener("wc-blocks_added_to_cart",p),document.body.removeEventListener("wc-blocks_removed_from_cart",p),window.removeEventListener("pageshow",E),t(),r()}})(),m),[])},O={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},h={...O,email:""},f={total_items:"",total_items_tax:"",total_fees:"",total_fees_tax:"",total_discount:"",total_discount_tax:"",total_shipping:"",total_shipping_tax:"",total_price:"",total_tax:"",tax_lines:o.EMPTY_TAX_LINES,currency_code:"",currency_symbol:"",currency_minor_unit:2,currency_decimal_separator:"",currency_thousand_separator:"",currency_prefix:"",currency_suffix:""},S=e=>Object.fromEntries(Object.entries(e).map(e=>{let[t,r]=e;return[t,Object(i.decodeEntities)(r)]})),g={cartCoupons:o.EMPTY_CART_COUPONS,cartItems:o.EMPTY_CART_ITEMS,cartFees:o.EMPTY_CART_FEES,cartItemsCount:0,cartItemsWeight:0,crossSellsProducts:o.EMPTY_CART_CROSS_SELLS,cartNeedsPayment:!0,cartNeedsShipping:!0,cartItemErrors:o.EMPTY_CART_ITEM_ERRORS,cartTotals:f,cartIsLoading:!0,cartErrors:o.EMPTY_CART_ERRORS,billingAddress:h,shippingAddress:O,shippingRates:o.EMPTY_SHIPPING_RATES,isLoadingRates:!1,cartHasCalculatedShipping:!1,paymentMethods:o.EMPTY_PAYMENT_METHODS,paymentRequirements:o.EMPTY_PAYMENT_REQUIREMENTS,receiveCart:()=>{},receiveCartContents:()=>{},extensions:o.EMPTY_EXTENSIONS},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shouldSelect:!0};const{isEditor:t,previewData:r}=Object(l.a)(),n=null==r?void 0:r.previewCart,{shouldSelect:i}=e,d=Object(c.useRef)();_();const b=Object(a.useSelect)((e,r)=>{let{dispatch:s}=r;if(!i)return g;if(t)return{cartCoupons:n.coupons,cartItems:n.items,crossSellsProducts:n.cross_sells,cartFees:n.fees,cartItemsCount:n.items_count,cartItemsWeight:n.items_weight,cartNeedsPayment:n.needs_payment,cartNeedsShipping:n.needs_shipping,cartItemErrors:o.EMPTY_CART_ITEM_ERRORS,cartTotals:n.totals,cartIsLoading:!1,cartErrors:o.EMPTY_CART_ERRORS,billingData:h,billingAddress:h,shippingAddress:O,extensions:o.EMPTY_EXTENSIONS,shippingRates:n.shipping_rates,isLoadingRates:!1,cartHasCalculatedShipping:n.has_calculated_shipping,paymentRequirements:n.paymentRequirements,receiveCart:"function"==typeof(null==n?void 0:n.receiveCart)?n.receiveCart:()=>{},receiveCartContents:"function"==typeof(null==n?void 0:n.receiveCartContents)?n.receiveCartContents:()=>{}};const c=e(o.CART_STORE_KEY),a=c.getCartData(),l=c.getCartErrors(),d=c.getCartTotals(),b=!c.hasFinishedResolution("getCartData"),p=c.isCustomerDataUpdating(),{receiveCart:E,receiveCartContents:m}=s(o.CART_STORE_KEY),_=S(a.billingAddress),f=a.needsShipping?S(a.shippingAddress):_,v=a.fees.length>0?a.fees.map(e=>S(e)):o.EMPTY_CART_FEES;return{cartCoupons:a.coupons.length>0?a.coupons.map(e=>({...e,label:e.code})):o.EMPTY_CART_COUPONS,cartItems:a.items,crossSellsProducts:a.crossSells,cartFees:v,cartItemsCount:a.itemsCount,cartItemsWeight:a.itemsWeight,cartNeedsPayment:a.needsPayment,cartNeedsShipping:a.needsShipping,cartItemErrors:a.errors,cartTotals:d,cartIsLoading:b,cartErrors:l,billingData:Object(u.a)(_),billingAddress:Object(u.a)(_),shippingAddress:Object(u.a)(f),extensions:a.extensions,shippingRates:a.shippingRates,isLoadingRates:p,cartHasCalculatedShipping:a.hasCalculatedShipping,paymentRequirements:a.paymentRequirements,receiveCart:E,receiveCartContents:m}},[i]);return d.current&&s()(d.current,b)||(d.current=b),d.current}},81:function(e,t,r){"use strict";var n=r(2),s=r(1),c=r(121),o=r(29),a=r(30);const i=e=>{const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.required&&(t.required=e.required),void 0!==e.hidden&&(t.hidden=e.hidden),void 0===e.label||e.optionalLabel||(t.optionalLabel=Object(s.sprintf)(
/* translators: %s Field label. */
Object(s.__)("%s (optional)","woo-gutenberg-products-block"),e.label)),e.priority&&(Object(c.a)(e.priority)&&(t.index=e.priority),Object(o.a)(e.priority)&&(t.index=parseInt(e.priority,10))),e.hidden&&(t.required=!1),t},u=Object.entries(a.e).map(e=>{let[t,r]=e;return[t,Object.entries(r).map(e=>{let[t,r]=e;return[t,i(r)]}).reduce((e,t)=>{let[r,n]=t;return e[r]=n,e},{})]}).reduce((e,t)=>{let[r,n]=t;return e[r]=n,e},{});t.a=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const s=r&&void 0!==u[r]?u[r]:{};return e.map(e=>({key:e,...n.defaultAddressFields[e]||{},...s[e]||{},...t[e]||{}})).sort((e,t)=>e.index-t.index)}}}]);